#!/usr/bin/env zsh

export XDG_CACHE_HOME="${HOME}/.cache"
export XDG_CONFIG_HOME="${HOME}/.config"
export XDG_DATA_HOME="${HOME}/.local/share"
export XDG_BIN_HOME="${HOME}/.local/bin"

export DOTFILES="${HOME}/.dotfiles"
export DOTFILES_DATA="$XDG_DATA_HOME/dotfiles"
export DOTFILES_ASSETS="$DOTFILES/assets"

for dir in "$XDG_CACHE_HOME" "$XDG_CONFIG_HOME" "$XDG_DATA_HOME" "$XDG_BIN_HOME" "$DOTFILES_DATA"; do
  [[ -d $dir ]] || mkdir -p "$dir"
done

__is_interactive() { [[ $- == *i* || -n $EMACS ]]; }

__os() {
  case $OSTYPE in
    darwin*) echo macos ;;
    linux*) if   [[ -f /etc/arch-release   ]]; then echo arch
            elif [[ -f /etc/debian_version ]]; then echo debian
            fi ;;
  esac
}

__os_vers() {
  case $OSTYPE in
    darwin*) $(sw_vers -buildVersion) ;;
  esac
}